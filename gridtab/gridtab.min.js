/*
  Version: 1.0.0
   Author: Gopal Raju
  Website: http://www.productivedreams.com
     Docs: https://gopalraju.github.io/gridtab
     Repo: https://gopalraju.github.io/gridtab
   Issues: https://gopalraju.github.io/gridtab/issues
  */
!function(a,b,c,d){function h(b,c){var d=this;d.element=b,d.options=a.extend({},g,c),d.defaults=g,d.name=f,d.cssRules="",d.breakpoints=[],d.activeTab=d.options.activeTab-1,d.tabs=a(d.element).find("> dt"),d.contents=a(d.element).find("> dd"),d.init(),d.generateStylesheet(d.cssRules),d.setContentOrder(),e++}var e=0,f="gridtab",g={grid:4,borderWidth:2,tabBorderColor:"#ddd",tabPadding:25,contentBorderColor:"#ddd",contentPadding:25,contentBackground:"#fff",activeTabBackground:"#fff",keepOpen:!1,speed:500,layout:"grid",activeTab:0,responsive:null,callbacks:{open:!1,close:!1}};h.prototype.init=function(){var b=this;a(b.element).addClass("gridtab gridtab--"+e),b.setTabOrder(),b.addCssRules(b.options.grid,b.options.borderWidth,b.options.tabPadding,b.options.tabBorderColor,b.options.contentPadding,b.options.contentBorderColor,b.options.contentBackground,b.options.activeTabBackground,null),b.responsiveBreakpoints(),b.activeTab>-1&&b.activeTab<b.tabs.length&&b.slideContent(b.tabs[b.activeTab]),a(b.element).on("click","> dt",function(a){a.stopPropagation(),a.stopImmediatePropagation(),b.slideContent(this)})},h.prototype.setContentOrder=function(){for(var b=this,c=Math.round(a(b.element).outerWidth()/a(a(b.element).children()[0]).outerWidth()),d=Math.ceil(b.contents.length/c),e=0;e<d;e++)b.contents.slice(e*c,c*(e+1)).css("order",""+(e+1)*c)},h.prototype.setTabOrder=function(){var b=this;b.tabs.each(function(b){a(this).css("order",""+b)})},h.prototype.addCssRules=function(a,b,c,d,f,g,h,i,j){var k=this;if(null!==a||null!==b||null!==c||null!==d||null!==g||null!==f||null!==h||null!==i){var l="";if(null!==a||null!==b||null!==d||null!==c){null!==b&&(l+=".gridtab--"+e+"{padding:"+b+"px 0 0 "+b+"px;}");var m="";null!==a&&(m=Math.floor(100/a*100)/100),l+=".gridtab--"+e+" > dt{",null!==b&&(l+="margin:-"+b+"px 0 0 -"+b+"px;"),null!==a&&(l+="min-width:calc("+m+"% + "+b+"px);flex-basis:"+m+"%;-ms-flex-basis:"+m+"%;"),null!==b&&(l+="border-width:"+b+"px;"),null!==c&&(l+="padding:"+c+"px;"),null!==d&&(l+="border-color:"+d+";"),l+="}"}null!==i&&(l+=".gridtab--"+e+" >dt.is-active{background:"+i+";}"),"tab"==k.options.layout&&null!==i&&null!==b&&(l+=".gridtab--"+e+" >dt.is-active:after{background:"+i+";height:"+b+"px;bottom:-"+b+"px;}"),null===g&&null===b&&null===h&&null===f||(l+=".gridtab--"+e+">dd{",l+="min-width:calc(100% + "+b+"px);",null!==b&&(l+="margin:-"+b+"px 0 0 -"+b+"px !important;border-width:"+b+"px;"),null!==g&&(l+="border-color:"+g+";"),null!==f&&(l+="padding:"+f+"px;"),null!==h&&(l+="background:"+h+";"),l+="}"),k.cssRules+=null!==j?"@media (max-width:"+j+"px){"+l+"}":l}},h.prototype.generateStylesheet=function(b){a("head").append("<style>"+b+"</style>")},h.prototype.responsiveBreakpoints=function(){var a=this;if(a.options.responsive&&a.options.responsive.length){a.options.responsive.sort(function(a,b){return parseFloat(b.breakpoint)-parseFloat(a.breakpoint)});for(var c in a.options.responsive){var d=a.options.responsive[c].settings,e=d.grid||null,f=d.borderWidth||a.options.borderWidth,g=d.tabBorderColor||null,h=d.tabPadding||null,i=d.activeTabBackground||null,j=d.contentPadding||null,k=d.contentBorderColor||null,l=d.contentBackground||null,m=a.options.responsive[c].breakpoint||null;a.addCssRules(e,f,h,g,j,k,l,i,m),a.breakpoints.push(m),b.matchMedia("(max-width:"+a.breakpoints[c]+"px)").addListener(function(){a.setContentOrder()})}}},h.prototype.slideContent=function(b){var c=this,d=a(b),e=a(c.element).find(">dt.is-active").not(b);if(!d.hasClass("is-disabled")){if(e.length)c.tabs.addClass("is-disabled"),e.next().stop(!0).slideUp(c.options.speed,function(){return e.removeClass("is-active"),c.tabs.next().stop(!0),c.options.callbacks.close&&c.options.callbacks.close.call(this),d.addClass("is-active").next().stop(!0).slideDown(c.options.speed,function(){return c.options.callbacks.open&&c.options.callbacks.open.call(this),c.tabs.removeClass("is-disabled"),!1}),!1});else{if(c.options.keepOpen)return d.addClass("is-active").next().stop(!0).slideDown(c.options.speed,function(){c.options.callbacks.open&&c.options.callbacks.open.call(this)}),!1;c.tabs.addClass("is-disabled"),d.addClass("is-active").next().stop(!0).slideToggle(c.options.speed,function(){return a(this).is(":hidden")?(d.removeClass("is-active"),c.options.callbacks.close&&c.options.callbacks.close.call(this)):c.options.callbacks.open&&c.options.callbacks.open.call(this),c.tabs.removeClass("is-disabled"),!1})}return!1}},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new h(this,b))})}}(jQuery,window,document);
